<div id="menu_view" class="page-content">
    <div class="col-xs-12  widget-container-span ui-sortable">
        <div class="widget-box transparent">
            <div class="widget-header widget-header-flat">
                <h4 class="lighter">
                    <i class="icon-star orange"></i>
                    Menu Types
                </h4>
                <div class="widget-toolbar" >
                    <button class="btn btn-info menu-edit-btn" ng-click="menuItemEditMenuType()">
                        <i class="icon-pencil"></i>
                    </button>
                </div>

            </div>

            <div class="widget-body">
                <div class="widget-main no-padding">
                    <span class="label label-success menuType" ng-repeat="menuType in menuTypes">
                        <anchor target="grid{{menuType.type_id}}|gallery{{menuType.type_id}}">{{menuType.name}} | {{menuType.name_lang}}</anchor>
                    </span>
                </div><!-- /widget-main -->
            </div><!-- /widget-body -->
        </div><!-- /widget-box -->
    </div>
    <div class="col-xs-12 space-6"></div>
    <div class="col-xs-12  widget-container-span ui-sortable">
        <div class="widget-box transparent">
            <div class="widget-header widget-header-flat">
                <h4 class="lighter">
                    <i class="icon-star green"></i>
                    Menu Items
                </h4>

                <div class="widget-toolbar">
                    <a href="../biz/{{bizId}}/menupdf" class="btn btn-info btn-sm menu-pdf-btn">
                        Printable Menu PDF
                    </a>
                    <button data-toggle="dropdown" class="btn btn-info btn-sm dropdown-toggle menu-view-btn">
                        View style
                        <span class="icon-caret-down icon-on-right"></span>
                    </button>
                    <ul class="dropdown-menu dropdown-info pull-right">
                        <li>
                            <a href="javascript:;" ng-click="onMenuViewChange('gallery')">Gallery</a>
                        </li>
                        <li>
                            <a href="javascript:;" ng-click="onMenuViewChange('grid')">Grid</a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="widget-body">
                <div class="widget-main no-padding">
                    <div ng-if="menu_view_loaded_array['grid']" ng-show="menu_view_style=='grid'" >
                        <div bindonce class="col-xs-12" ng-repeat="menuType in menuTypes">
                            <div class="menuItemType">
                                <div class="widget-toolbar" >
                                    <anchor target="navbar">
                                        <button title="Back to Top" class="btn btn-block menu-edit-btn">
                                            <i class="icon-double-angle-up"></i>
                                        </button>
                                    </anchor>
                                    <button class="btn btn-success menu-edit-btn" ng-click="addMenuItem(menuType.type_id)">
                                        <i class="icon-plus-sign"></i>
                                    </button>
                                </div>
                                <span bo-id="'grid'+menuType.type_id" bo-bind="menuType.name+' | '+menuType.name_lang"></span>
                            </div>
                            <table class="table table-striped table-bordered table-hover">
                                <colgroup>
                                    <col width=""/>
                                    <col width="20%"/>
                                    <col width="8%"/>
                                    <col width="10%"/>
                                    <col width="10%"/>
                                </colgroup>
                                <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Description</th>
                                    <th>Price</th>
                                    <th>Active</th>
                                    <th>Promotion</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr bindonce ng-repeat="menuItem in menuItems | filter:menuType.type_id" >
                                    <td><a bo-href="'#menu_update/'+menuItem.prod_id" bo-bind="menuItem.name"></a></td>
                                    <td bo-bind="menuItem.description"></td>
                                    <td>
                                        <span ng-class="{'price-disable':menuItem.promotions.length>0}" bo-bind="menuItem.price | currency"></span>
                                        <br>
                                        <span ng-if="menuItem.promotions.length>0" bo-bind="menuItem.priceAfterDiscount | currency"></span>
                                    </td>
                                    <td>
                                        <label>
                                            <input ng-model="menuItem.active" ng-disabled="menuItem.disabled_for_page"
                                                   class="ace ace-switch ace-switch-5" type="checkbox" ng-click="onActiveChange(menuItem)"/>
                                            <span class="lbl lbl_active"></span>
                                        </label>
                                    </td>
                                    <td>
                                        <a ng-class="menuItem.promoClass" ng-href="{{menuItem.promoHref}}">
                                            Promotion
                                            <i ng-class="menuItem.promoIcon"></i>
                                        </a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div ng-if="menu_view_loaded_array['grid']" ng-show="menu_view_style=='grid'">
                        <div class="col-xs-12">
                            <div class="menuItemType" >
                                <div class="widget-toolbar" >
                                    <anchor target="navbar">
                                        <button title="Back to Top" class="btn btn-block menu-edit-btn">
                                            <i class="icon-double-angle-up"></i>
                                        </button>
                                    </anchor>
                                </div>
                                <span>Others</span>
                            </div>
                            <table class="table table-striped table-bordered table-hover">
                                <colgroup>
                                    <col width=""/>
                                    <col width="20%"/>
                                    <col width="8%"/>
                                    <col width="10%"/>
                                    <col width="10%"/>
                                </colgroup>
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Description</th>
                                        <th>Price</th>
                                        <th>Active</th>
                                        <th>Promotion</th>
                                    </tr>
                                </thead>
                                <tbody>
                                <tr bindonce ng-repeat="menuItem in menuItems | filter:{type_id:null}" >
                                    <td><a bo-href="'#menu_update/'+menuItem.prod_id" bo-bind="menuItem.name"></a></td>
                                    <td bo-bind="menuItem.description"></td>
                                    <td>
                                        <span ng-class="{'price-disable':menuItem.promotions.length>0}" bo-bind="menuItem.price | currency"></span>
                                        <br>
                                        <span ng-if="menuItem.promotions.length>0" bo-bind="menuItem.priceAfterDiscount | currency"></span>
                                    </td>
                                    <td>
                                        <label>
                                            <input ng-model="menuItem.active" ng-disabled="menuItem.disabled_for_page"
                                                   class="ace ace-switch ace-switch-5" type="checkbox" ng-click="onActiveChange(menuItem)"/>
                                            <span class="lbl lbl_active"></span>
                                        </label>
                                    </td>
                                    <td>
                                        <a ng-class="menuItem.promoClass" ng-href="{{menuItem.promoHref}}">
                                            Promotion
                                            <i ng-class="menuItem.promoIcon"></i>
                                        </a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- view style -->
                    <div ng-if="menu_view_loaded_array['gallery']" ng-show="menu_view_style=='gallery'"  >
                        <div bindonce class="col-xs-12" ng-repeat="menuType in menuTypes" >
                            <div class="menuItemType" >
                                <div class="widget-toolbar" >
                                    <anchor target="navbar">
                                        <button title="Back to Top" class="btn btn-block menu-edit-btn">
                                            <i class="icon-double-angle-up"></i>
                                        </button>
                                    </anchor>
                                    <button class="btn btn-success menu-edit-btn" ng-click="addMenuItem(menuType.type_id)">
                                        <i class="icon-plus-sign"></i>
                                    </button>
                                </div>
                                <span bo-id="'gallery'+menuType.type_id" bo-bind="menuType.name+' | '+menuType.name_lang"></span>
                            </div>
                            <div bindonce class="col-xs-6 col-sm-2 menuItem"
                                 ng-repeat="menuItem in menuItems | filter:{type_id:menuType.type_id}" >
                                <div class="menuItemImg menu_item_active_{{menuItem.active}}">
                                    <img width="120px" height="120px" bo-src-i="../image/{{menuItem.img_url}}/s" ng-click="updateMenuItem(menuItem)"/>
                                    <div class="tags">
                                        <span class="label-holder" ng-if="menuItem.promotions.length>0">
                                            <span class="label label-warning arrowed-in" bo-bind="menuItem.priceAfterDiscount | currency"></span>
                                        </span>
                                    </div>
                                </div>
                                <div>
                                    <div class="menuItemText" bo-bind="menuItem.name"></div>
                                    <div class="menuItemText" bo-bind="menuItem.description"></div>
                                    <div class="menuItemText {{menuItem.promotions.length>0?'price-disable':''}}" bo-bind="menuItem.price | currency"></div>
                                    <div class="menuItemText menu_item_active">
                                        <label>
                                            <input ng-model="menuItem.active" ng-disabled="menuItem.disabled_for_page"
                                                   class="ace ace-switch ace-switch-5" type="checkbox" ng-click="onActiveChange(menuItem)"/>
                                            <span class="lbl lbl_active"></span>
                                        </label>
                                    </div>
                                    <div class="menuItemText">
                                        <a ng-class="menuItem.promoClass" ng-href="{{menuItem.promoHref}}">
                                            Promotion
                                            <i ng-class="menuItem.promoIcon"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><!--end of gallery-->
                    <div ng-if="menu_view_loaded_array['gallery']" ng-show="menu_view_style=='gallery'" >
                        <div class="col-xs-12">
                            <div class="menuItemType" >
                                <div class="widget-toolbar" >
                                    <anchor target="navbar">
                                        <button title="Back to Top" class="btn btn-block menu-edit-btn">
                                            <i class="icon-double-angle-up"></i>
                                        </button>
                                    </anchor>
                                </div>
                                <span>Others</span>
                            </div>
                            <div bindonce class="col-xs-5 col-sm-2 menuItem"
                                 ng-repeat="menuItem in menuItems | filter:{type_id:null}" >
                                <div class="menuItemImg menu_item_active_{{menuItem.active}}">
                                    <img width="120px" height="120px" bo-src-i="../image/{{menuItem.img_url}}/s" ng-click="updateMenuItem(menuItem)"/>
                                    <div class="tags">
                                        <span class="label-holder" ng-if="menuItem.promotions.length>0">
                                            <span class="label label-warning arrowed-in" bo-bind="menuItem.priceAfterDiscount | currency"></span>
                                        </span>
                                    </div>
                                </div>
                                <div>
                                    <div class="menuItemText" bo-bind="menuItem.name"></div>
                                    <div class="menuItemText" bo-bind="menuItem.description"></div>
                                    <div class="menuItemText {{menuItem.promotions.length>0?'price-disable':''}}" bo-bind="menuItem.price | currency"></div>
                                    <div class="menuItemText menu_item_active">
                                        <label>
                                            <input ng-model="menuItem.active" ng-disabled="menuItem.disabled_for_page"
                                                   class="ace ace-switch ace-switch-5" type="checkbox" ng-click="onActiveChange(menuItem)"/>
                                            <span class="lbl lbl_active"></span>
                                        </label>
                                    </div>
                                    <div class="menuItemText">
                                        <a ng-class="menuItem.promoClass" ng-href="{{menuItem.promoHref}}">
                                            Promotion
                                            <i ng-class="menuItem.promoIcon"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><!--end of gallery-->
                    <p>&nbsp;</p>
                </div><!-- /widget-main -->
            </div><!-- /widget-body -->
        </div><!-- /widget-box -->
     </div>
</div>
